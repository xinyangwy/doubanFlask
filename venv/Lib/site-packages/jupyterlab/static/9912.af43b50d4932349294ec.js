"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[9912,1057,2440,3373],{7049:(t,e,s)=>{s.d(e,{Z$:()=>n,s7:()=>a,Dp:()=>i,$m:()=>d});const n=t=>t[t.length-1];const c=()=>[];const o=t=>t.slice();const a=(t,e)=>{for(let s=0;s<e.length;s++){t.push(e[s])}};const i=Array.from;const r=(t,e)=>t.every(e);const l=(t,e)=>t.some(e);const d=(t,e)=>t.length===e.length&&r(t,((t,s)=>t===e[s]));const h=t=>t.reduce(((t,e)=>t.concat(e)),[])},97027:(t,e,s)=>{s.d(e,{PP:()=>o,UV:()=>d,Hi:()=>h});var n=s(7049);var c=s(59735);const o=(t,e,s=0)=>{try{for(;s<t.length;s++){t[s](...e)}}finally{if(s<t.length){o(t,e,s+1)}}};const a=()=>{};const i=t=>t();const r=t=>t;const l=(t,e)=>t===e;const d=(t,e)=>t===e||t!=null&&e!=null&&t.constructor===e.constructor&&(t instanceof Array&&n.$m(t,e)||typeof t==="object"&&c.$m(t,e));const h=(t,e)=>{if(t==null||e==null){return l(t,e)}if(t.constructor!==e.constructor){return false}if(t===e){return true}switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t);e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength){return false}for(let s=0;s<t.length;s++){if(t[s]!==e[s]){return false}}break}case Set:{if(t.size!==e.size){return false}for(const s of t){if(!e.has(s)){return false}}break}case Map:{if(t.size!==e.size){return false}for(const s of t.keys()){if(!e.has(s)||!h(t.get(s),e.get(s))){return false}}break}case Object:if(c.kE(t)!==c.kE(e)){return false}for(const s in t){if(!c.l$(t,s)||!h(t[s],e[s])){return false}}break;case Array:if(t.length!==e.length){return false}for(let s=0;s<t.length;s++){if(!h(t[s],e[s])){return false}}break;default:return false}return true}},14247:(t,e,s)=>{s.d(e,{GW:()=>n,Wn:()=>o,mv:()=>r,IH:()=>u,VV:()=>f,Fp:()=>g,GR:()=>b});const n=Math.floor;const c=Math.ceil;const o=Math.abs;const a=Math.imul;const i=Math.round;const r=Math.log10;const l=Math.log2;const d=Math.log;const h=Math.sqrt;const u=(t,e)=>t+e;const f=(t,e)=>t<e?t:e;const g=(t,e)=>t>e?t:e;const p=Number.isNaN;const w=Math.pow;const m=t=>Math.pow(10,t);const y=Math.sign;const b=t=>t!==0?t<0:1/t<0},13119:(t,e,s)=>{s.d(e,{M:()=>n});const n=()=>{let t=true;return(e,s)=>{if(t){t=false;try{e()}finally{t=true}}else if(s!==undefined){s()}}}},59735:(t,e,s)=>{s.d(e,{UI:()=>i,kE:()=>r,l$:()=>h,$m:()=>u});const n=()=>Object.create(null);const c=Object.assign;const o=Object.keys;const a=(t,e)=>{for(const s in t){e(t[s],s)}};const i=(t,e)=>{const s=[];for(const n in t){s.push(e(t[n],n))}return s};const r=t=>o(t).length;const l=(t,e)=>{for(const s in t){if(e(t[s],s)){return true}}return false};const d=(t,e)=>{for(const s in t){if(!e(t[s],s)){return false}}return true};const h=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);const u=(t,e)=>t===e||r(t)===r(e)&&d(t,((t,s)=>(t!==undefined||h(e,s))&&e[s]===t))},1057:(t,e,s)=>{s.d(e,{GL:()=>u,Ag:()=>f,xq:()=>g,oy:()=>w});var n=s(19038);var c=s(64485);var o=s(20817);var a=s(14247);var i=s(58290);var r=s(97027);var l=s(67925);var d=s.n(l);const h=3e4;class u extends i.y{constructor(t){super();this.doc=t;this.clientID=t.clientID;this.states=new Map;this.meta=new Map;this._checkInterval=setInterval((()=>{const t=o.ZG();if(this.getLocalState()!==null&&h/2<=t-this.meta.get(this.clientID).lastUpdated){this.setLocalState(this.getLocalState())}const e=[];this.meta.forEach(((s,n)=>{if(n!==this.clientID&&h<=t-s.lastUpdated&&this.states.has(n)){e.push(n)}}));if(e.length>0){f(this,e,"timeout")}}),a.GW(h/10));t.on("destroy",(()=>{this.destroy()}));this.setLocalState({})}destroy(){this.emit("destroy",[this]);this.setLocalState(null);super.destroy();clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const e=this.clientID;const s=this.meta.get(e);const n=s===undefined?0:s.clock+1;const c=this.states.get(e);if(t===null){this.states.delete(e)}else{this.states.set(e,t)}this.meta.set(e,{clock:n,lastUpdated:o.ZG()});const a=[];const i=[];const l=[];const d=[];if(t===null){d.push(e)}else if(c==null){if(t!=null){a.push(e)}}else{i.push(e);if(!r.Hi(c,t)){l.push(e)}}if(a.length>0||l.length>0||d.length>0){this.emit("change",[{added:a,updated:l,removed:d},"local"])}this.emit("update",[{added:a,updated:i,removed:d},"local"])}setLocalStateField(t,e){const s=this.getLocalState();if(s!==null){this.setLocalState({...s,[t]:e})}}getStates(){return this.states}}const f=(t,e,s)=>{const n=[];for(let c=0;c<e.length;c++){const s=e[c];if(t.states.has(s)){t.states.delete(s);if(s===t.clientID){const e=t.meta.get(s);t.meta.set(s,{clock:e.clock+1,lastUpdated:o.ZG()})}n.push(s)}}if(n.length>0){t.emit("change",[{added:[],updated:[],removed:n},s]);t.emit("update",[{added:[],updated:[],removed:n},s])}};const g=(t,e,s=t.states)=>{const c=e.length;const o=n.Mf();n.uE(o,c);for(let a=0;a<c;a++){const c=e[a];const i=s.get(c)||null;const r=t.meta.get(c).clock;n.uE(o,c);n.uE(o,r);n.uw(o,JSON.stringify(i))}return n._f(o)};const p=(t,e)=>{const s=decoding.createDecoder(t);const n=encoding.createEncoder();const c=decoding.readVarUint(s);encoding.writeVarUint(n,c);for(let o=0;o<c;o++){const t=decoding.readVarUint(s);const c=decoding.readVarUint(s);const o=JSON.parse(decoding.readVarString(s));const a=e(o);encoding.writeVarUint(n,t);encoding.writeVarUint(n,c);encoding.writeVarString(n,JSON.stringify(a))}return encoding.toUint8Array(n)};const w=(t,e,s)=>{const n=c.l1(e);const a=o.ZG();const i=[];const l=[];const d=[];const h=[];const u=c.yg(n);for(let o=0;o<u;o++){const e=c.yg(n);let s=c.yg(n);const o=JSON.parse(c.kf(n));const u=t.meta.get(e);const f=t.states.get(e);const g=u===undefined?0:u.clock;if(g<s||g===s&&o===null&&t.states.has(e)){if(o===null){if(e===t.clientID&&t.getLocalState()!=null){s++}else{t.states.delete(e)}}else{t.states.set(e,o)}t.meta.set(e,{clock:s,lastUpdated:a});if(u===undefined&&o!==null){i.push(e)}else if(u!==undefined&&o===null){h.push(e)}else if(o!==null){if(!r.Hi(o,f)){d.push(e)}l.push(e)}}}if(i.length>0||d.length>0||h.length>0){t.emit("change",[{added:i,updated:d,removed:h},s])}if(i.length>0||l.length>0||h.length>0){t.emit("update",[{added:i,updated:l,removed:h},s])}}},89912:(t,e,s)=>{s.d(e,{V:()=>Y});var n=s(67925);var c=s(72382);var o=s(65679);var a=s(62794);const i=new Map;class r{constructor(t){this.room=t;this.onmessage=null;a.z((e=>e.key===t&&this.onmessage!==null&&this.onmessage({data:o.Gh(e.newValue||"")})))}postMessage(t){a.X.setItem(this.room,o.s3(o.eh(t)))}}const l=typeof BroadcastChannel==="undefined"?r:BroadcastChannel;const d=t=>c.Yu(i,t,(()=>{const e=new Set;const s=new l(t);s.onmessage=t=>e.forEach((e=>e(t.data)));return{bc:s,subs:e}}));const h=(t,e)=>d(t).subs.add(e);const u=(t,e)=>d(t).subs.delete(e);const f=(t,e)=>{const s=d(t);s.bc.postMessage(e);s.subs.forEach((t=>t(e)))};var g=s(20817);var p=s(19038);var w=s(64485);const m=0;const y=1;const b=2;const v=(t,e)=>{p.uE(t,m);const s=n.encodeStateVector(e);p.mP(t,s)};const _=(t,e,s)=>{p.uE(t,y);p.mP(t,n.encodeStateAsUpdate(e,s))};const U=(t,e,s)=>_(e,s,w.HN(t));const k=(t,e,s)=>{try{n.applyUpdate(e,w.HN(t),s)}catch(c){console.error("Caught error while handling a Yjs update",c)}};const M=(t,e)=>{p.uE(t,b);p.mP(t,e)};const I=k;const S=(t,e,s,n)=>{const c=w.yg(t);switch(c){case m:U(t,e,s);break;case y:k(t,s,n);break;case b:I(t,s,n);break;default:throw new Error("Unknown message type")}return c};const E=0;const C=(t,e)=>{encoding.writeVarUint(t,E);encoding.writeVarString(t,e)};const L=(t,e,s)=>{switch(w.yg(t)){case E:s(e,w.kf(t))}};var H=s(1057);var V=s(13119);var A=s(58290);var D=s(14247);var x=s(59735);const G=t=>{const e={};const s=t.split("?");const n=s[s.length-1].split("&");for(var c=0;c<n.length;c++){const t=n[c];if(t.length>0){const s=t.split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]||"")}}return e};const P=t=>x.UI(t,((t,e)=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&");var R=s(34155);const $=0;const j=3;const N=1;const O=2;const Z=[];Z[$]=(t,e,s,n,c)=>{p.uE(t,$);const o=S(e,t,s.doc,s);if(n&&o===y&&!s.synced){s.synced=true}};Z[j]=(t,e,s,n,c)=>{p.uE(t,N);p.mP(t,H.xq(s.awareness,Array.from(s.awareness.getStates().keys())))};Z[N]=(t,e,s,n,c)=>{H.oy(s.awareness,w.HN(e),s)};Z[O]=(t,e,s,n,c)=>{L(e,s.doc,z)};const q=1200;const B=2500;const W=3e4;const z=(t,e)=>console.warn(`Permission denied to access ${t.url}.\n${e}`);const J=(t,e,s)=>{const n=w.l1(e);const c=p.Mf();const o=w.yg(n);const a=t.messageHandlers[o];if(a){a(c,n,t,s,o)}else{console.error("Unable to compute message")}return c};const F=t=>{if(t.shouldConnect&&t.ws===null){const e=new t._WS(t.url);e.binaryType="arraybuffer";t.ws=e;t.wsconnecting=true;t.wsconnected=false;t.synced=false;e.onmessage=s=>{t.wsLastMessageReceived=g.ZG();const n=J(t,new Uint8Array(s.data),true);if(p.kE(n)>1){e.send(p._f(n))}};e.onclose=()=>{t.ws=null;t.wsconnecting=false;if(t.wsconnected){t.wsconnected=false;t.synced=false;H.Ag(t.awareness,Array.from(t.awareness.getStates().keys()).filter((e=>e!==t.doc.clientID)),t);t.emit("status",[{status:"disconnected"}])}else{t.wsUnsuccessfulReconnects++}setTimeout(F,D.VV(D.mv(t.wsUnsuccessfulReconnects+1)*q,B),t)};e.onopen=()=>{t.wsLastMessageReceived=g.ZG();t.wsconnecting=false;t.wsconnected=true;t.wsUnsuccessfulReconnects=0;t.emit("status",[{status:"connected"}]);const s=p.Mf();p.uE(s,$);v(s,t.doc);e.send(p._f(s));if(t.awareness.getLocalState()!==null){const s=p.Mf();p.uE(s,N);p.mP(s,H.xq(t.awareness,[t.doc.clientID]));e.send(p._f(s))}};t.emit("status",[{status:"connecting"}])}};const T=(t,e)=>{if(t.wsconnected){t.ws.send(e)}if(t.bcconnected){t.mux((()=>{f(t.bcChannel,e)}))}};class Y extends A.y{constructor(t,e,s,{connect:n=true,awareness:c=new H.GL(s),params:o={},WebSocketPolyfill:a=WebSocket,resyncInterval:i=-1}={}){super();while(t[t.length-1]==="/"){t=t.slice(0,t.length-1)}const r=P(o);this.bcChannel=t+"/"+e;this.url=t+"/"+e+(r.length===0?"":"?"+r);this.roomname=e;this.doc=s;this._WS=a;this.awareness=c;this.wsconnected=false;this.wsconnecting=false;this.bcconnected=false;this.wsUnsuccessfulReconnects=0;this.messageHandlers=Z.slice();this.mux=V.M();this._synced=false;this.ws=null;this.wsLastMessageReceived=0;this.shouldConnect=n;this._resyncInterval=0;if(i>0){this._resyncInterval=setInterval((()=>{if(this.ws){const t=p.Mf();p.uE(t,$);v(t,s);this.ws.send(p._f(t))}}),i)}this._bcSubscriber=t=>{this.mux((()=>{const e=J(this,new Uint8Array(t),false);if(p.kE(e)>1){f(this.bcChannel,p._f(e))}}))};this._updateHandler=(t,e)=>{if(e!==this){const e=p.Mf();p.uE(e,$);M(e,t);T(this,p._f(e))}};this.doc.on("update",this._updateHandler);this._awarenessUpdateHandler=({added:t,updated:e,removed:s},n)=>{const o=t.concat(e).concat(s);const a=p.Mf();p.uE(a,N);p.mP(a,H.xq(c,o));T(this,p._f(a))};this._beforeUnloadHandler=()=>{H.Ag(this.awareness,[s.clientID],"window unload")};if(typeof window!=="undefined"){window.addEventListener("beforeunload",this._beforeUnloadHandler)}else if(typeof R!=="undefined"){R.on("exit",(()=>this._beforeUnloadHandler))}c.on("update",this._awarenessUpdateHandler);this._checkInterval=setInterval((()=>{if(this.wsconnected&&W<g.ZG()-this.wsLastMessageReceived){this.ws.close()}}),W/10);if(n){this.connect()}}get synced(){return this._synced}set synced(t){if(this._synced!==t){this._synced=t;this.emit("synced",[t]);this.emit("sync",[t])}}destroy(){if(this._resyncInterval!==0){clearInterval(this._resyncInterval)}clearInterval(this._checkInterval);this.disconnect();if(typeof window!=="undefined"){window.removeEventListener("beforeunload",this._beforeUnloadHandler)}else if(typeof R!=="undefined"){R.off("exit",(()=>this._beforeUnloadHandler))}this.awareness.off("update",this._awarenessUpdateHandler);this.doc.off("update",this._updateHandler);super.destroy()}connectBc(){if(!this.bcconnected){h(this.bcChannel,this._bcSubscriber);this.bcconnected=true}this.mux((()=>{const t=p.Mf();p.uE(t,$);v(t,this.doc);f(this.bcChannel,p._f(t));const e=p.Mf();p.uE(e,$);_(e,this.doc);f(this.bcChannel,p._f(e));const s=p.Mf();p.uE(s,j);f(this.bcChannel,p._f(s));const n=p.Mf();p.uE(n,N);p.mP(n,H.xq(this.awareness,[this.doc.clientID]));f(this.bcChannel,p._f(n))}))}disconnectBc(){const t=p.Mf();p.uE(t,N);p.mP(t,H.xq(this.awareness,[this.doc.clientID],new Map));T(this,p._f(t));if(this.bcconnected){u(this.bcChannel,this._bcSubscriber);this.bcconnected=false}}disconnect(){this.shouldConnect=false;this.disconnectBc();if(this.ws!==null){this.ws.close()}}connect(){this.shouldConnect=true;if(!this.wsconnected&&this.ws===null){F(this);this.connectBc()}}}}}]);